as.factor(Age_Range))]
stargazer(mod_task2_a,
mod_task2_b,
se = list(get_robust_se(mod_task2_a),get_robust_se(mod_task2_b)),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','Yes'),
c('Age Fixed Effects','No','Yes')),
header=FALSE,
type='latex')
#add an F test to compare
pander(anova(mod_task2_a, mod_task2_b, test='F'),stle='rmarkdown')
#does the specific treatment group have an effect on task phase 2 score?
mod_task2_c <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group))]
mod_task2_d <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group) +
TaskPhase1_Score +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
# Do you think that there are features of the data that might systematically predict that people will respond strongly or weakly to the treatment effect? List two that you think might be there, in the order that you would like to test them. Then, test for these heterogeneities.
# TODO update this heterogeneity issue. I'm not quite sure this applies because they're both considered treatment groups, just with different granularities
# mod5 <- d_respondents[, lm(TaskPhase2_Score ~ Treatment_Dummy + as.factor(assign_bin) +
#                              Treatment_Dummy * as.factor(assign_bin))]
stargazer(mod_task2_c,
mod_task2_d,
se = list(get_robust_se(mod_task2_c),get_robust_se(mod_task2_d)),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','Yes'),
c('Age Fixed Effects','No','Yes')),
header=FALSE,
type='text')
pander(anova(mod_task2_c, mod_task2_d, test='F'),style='rmarkdown')
knitr::opts_chunk$set(echo = TRUE)
library(foreign)
library(data.table)
library(knitr)
library(cobalt)
library(stargazer)
library(sandwich)
library(car)
library(dplyr)
library(ggmap)
library(revgeo)
library(AER)
library(ggplot2)
library(expss)
library(grid)
library(gridExtra)
library(pander)
d_respondents <- fread('datatable_clean_survey_responses_v2.dta')
d_respondents[ , US_Dummy := ifelse(country == "United States", 1, 0)]
create_heatmap <- function(var1, var2) {
### Create a heatmap for a table of frequencies between two variables ###
df <- data.frame(table(var1,var2))
ggplot(df,aes(x=var1,y=var2)) +
geom_tile(aes(fill=Freq,color=Freq),show.legend=FALSE,alpha=.8) +
geom_text(aes(label=Freq)) +
theme(axis.text.x = element_text(angle = 90)) +
scale_fill_continuous(high = "darkslategray4", low = "powderblue")
}
# check balance between genders
gender_chiqq <- chisq.test(d_respondents[ , table(Assignment_Group, Gender)])
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Gender) +
xlab('Assignment Group') +
ylab('Gender') +
labs(title = 'Contingency table between gender and assignment group',
caption = paste0('Assuming gender distributions are the same among assignment groups, a chi-squared test for independence with ',
round(gender_chiqq$parameter,4),' \ndegrees of freedom ', 'yields p=',
round(gender_chiqq$p.value,4),
', suggesting that there is no relationship between gender and assignment groups at a \nsignificance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
# check balance between age ranges
age_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, Age_Range)],simulate.p.value = TRUE)
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Age_Range) +
xlab('Assignment Group') +
ylab('Age') +
labs(title = 'Contingency table between age range and assignment group',
caption = paste0('Assuming age distributions are the same among assignment groups, a chi-squared test for independence with Monte \nCarlo simulation yields p=',
round(age_chisq$p.value,4),
', suggesting that there is no relationship between age and assignment groups at a \nsignificance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
#check balance between education levels
edu_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, Education_Level)],simulate.p.value = TRUE)
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Education_Level) +
xlab('Assignment Group') +
ylab('Education Level') +
labs(title = 'Contingency table between education and assignment group',
caption = paste0('Assuming education distributions are the same among assignment groups, a chi-squared test for \nindependence with Monte Carlo simulation yields p=',
round(edu_chisq$p.value,4),
', suggesting that there is no relationship \nbetween education and assignment groups at a significance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
# check balance between US and non-US respondents
us_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, US_Dummy)])
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$US_Dummy) +
xlab('Assignment Group') +
ylab('Country') +
scale_y_discrete(breaks=c("0", "1"),
labels=c("Non-US", "United States")) +
labs(title = 'Contingency table between country and assignment group',
caption = paste0('Assuming country distributions are the same among assignment groups, a chi-squared test for independence with \n',
round(us_chisq$parameter,4),' degrees of freedom ', 'yields p=',
round(us_chisq$p.value,4),
', suggesting that there is no relationship between country and assignment \ngroups at a significance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
get_robust_se <- function(model){
# Get robust SE for use in stargazer
vcov <- vcovHC(model,type = "HC1")
return(sqrt(diag(vcov)))
}
#does the specific treatment group have an effect on task phase 2 score?
mod_task2_c <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group))]
mod_task2_d <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group) +
TaskPhase1_Score +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
stargazer(mod_task2_c,
mod_task2_d,
se = list(get_robust_se(mod_task2_c),get_robust_se(mod_task2_d)),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','Yes'),
c('Age Fixed Effects','No','Yes')),
header=FALSE,
type='text')
pander(anova(mod_task2_c, mod_task2_d, test='F'),style='rmarkdown')
stargazer(mod_task3_e,
mod_task3_f,
mod_task3_g,
mod_task3_h,
se = list(get_robust_se(mod_task3_e),
get_robust_se(mod_task3_f),
get_robust_se(mod_task3_h)),
get_robust_se(mod_task3_g),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','No','No','Yes'),
c('Age Fixed Effects','No','No','No','Yes')),
covariate.labels = c("Task Phase 2 Score", "Any Treatment", "Medical Feedback",
"Negative Images", "Positive Images", "Self-reflection",'Male'),
header=FALSE,
type='latex')
#does the specific treatment group have an effect on task phase 3 score?
mod_task3_e <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score)]
mod_task3_f <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + Treatment_Dummy)]
knitr::opts_chunk$set(echo = TRUE)
library(foreign)
library(data.table)
library(knitr)
library(cobalt)
library(stargazer)
library(sandwich)
library(car)
library(dplyr)
library(ggmap)
library(revgeo)
library(AER)
library(ggplot2)
library(expss)
library(grid)
library(gridExtra)
library(pander)
d_respondents <- fread('datatable_clean_survey_responses_v2.dta')
d_respondents[ , US_Dummy := ifelse(country == "United States", 1, 0)]
create_heatmap <- function(var1, var2) {
### Create a heatmap for a table of frequencies between two variables ###
df <- data.frame(table(var1,var2))
ggplot(df,aes(x=var1,y=var2)) +
geom_tile(aes(fill=Freq,color=Freq),show.legend=FALSE,alpha=.8) +
geom_text(aes(label=Freq)) +
theme(axis.text.x = element_text(angle = 90)) +
scale_fill_continuous(high = "darkslategray4", low = "powderblue")
}
# check balance between genders
gender_chiqq <- chisq.test(d_respondents[ , table(Assignment_Group, Gender)])
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Gender) +
xlab('Assignment Group') +
ylab('Gender') +
labs(title = 'Contingency table between gender and assignment group',
caption = paste0('Assuming gender distributions are the same among assignment groups, a chi-squared test for independence with ',
round(gender_chiqq$parameter,4),' \ndegrees of freedom ', 'yields p=',
round(gender_chiqq$p.value,4),
', suggesting that there is no relationship between gender and assignment groups at a \nsignificance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
# check balance between age ranges
age_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, Age_Range)],simulate.p.value = TRUE)
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Age_Range) +
xlab('Assignment Group') +
ylab('Age') +
labs(title = 'Contingency table between age range and assignment group',
caption = paste0('Assuming age distributions are the same among assignment groups, a chi-squared test for independence with Monte \nCarlo simulation yields p=',
round(age_chisq$p.value,4),
', suggesting that there is no relationship between age and assignment groups at a \nsignificance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
#check balance between education levels
edu_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, Education_Level)],simulate.p.value = TRUE)
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Education_Level) +
xlab('Assignment Group') +
ylab('Education Level') +
labs(title = 'Contingency table between education and assignment group',
caption = paste0('Assuming education distributions are the same among assignment groups, a chi-squared test for \nindependence with Monte Carlo simulation yields p=',
round(edu_chisq$p.value,4),
', suggesting that there is no relationship \nbetween education and assignment groups at a significance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
# check balance between US and non-US respondents
us_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, US_Dummy)])
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$US_Dummy) +
xlab('Assignment Group') +
ylab('Country') +
scale_y_discrete(breaks=c("0", "1"),
labels=c("Non-US", "United States")) +
labs(title = 'Contingency table between country and assignment group',
caption = paste0('Assuming country distributions are the same among assignment groups, a chi-squared test for independence with \n',
round(us_chisq$parameter,4),' degrees of freedom ', 'yields p=',
round(us_chisq$p.value,4),
', suggesting that there is no relationship between country and assignment \ngroups at a significance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
get_robust_se <- function(model){
# Get robust SE for use in stargazer
vcov <- vcovHC(model,type = "HC1")
return(sqrt(diag(vcov)))
}
#does the specific treatment group have an effect on task phase 2 score?
mod_task2_c <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group))]
mod_task2_d <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group) +
TaskPhase1_Score +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#Stargazer Output
stargazer(mod_task2_c,
mod_task2_d,
se = list(get_robust_se(mod_task2_c),get_robust_se(mod_task2_d)),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','Yes'),
c('Age Fixed Effects','No','Yes')),
header=FALSE,
type='text')
pander(anova(mod_task2_c, mod_task2_d, test='F'),style='rmarkdown')
#does the specific treatment group have an effect on task phase 3 score?
mod_task3_e <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score)]
mod_task3_f <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + Treatment_Dummy)]
d_respondents[Treatment_Dummy]
d_respondents
View(d_respondents)
knitr::opts_chunk$set(echo = TRUE)
library(foreign)
library(data.table)
library(knitr)
library(cobalt)
library(stargazer)
library(sandwich)
library(car)
library(dplyr)
library(ggmap)
library(revgeo)
library(AER)
library(ggplot2)
library(expss)
library(grid)
library(gridExtra)
library(pander)
d_respondents <- fread('datatable_clean_survey_responses_v2.dta')
#adds US and Treatment Dummy variables. Incorporate into imported dataset
d_respondents[ , US_Dummy := ifelse(country == "United States", 1, 0)]
d_respondents[ , Treatment_Dummy := ifelse(Assignment_Group != "Control", 1, 0)]
create_heatmap <- function(var1, var2) {
### Create a heatmap for a table of frequencies between two variables ###
df <- data.frame(table(var1,var2))
ggplot(df,aes(x=var1,y=var2)) +
geom_tile(aes(fill=Freq,color=Freq),show.legend=FALSE,alpha=.8) +
geom_text(aes(label=Freq)) +
theme(axis.text.x = element_text(angle = 90)) +
scale_fill_continuous(high = "darkslategray4", low = "powderblue")
}
# check balance between genders
gender_chiqq <- chisq.test(d_respondents[ , table(Assignment_Group, Gender)])
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Gender) +
xlab('Assignment Group') +
ylab('Gender') +
labs(title = 'Contingency table between gender and assignment group',
caption = paste0('Assuming gender distributions are the same among assignment groups, a chi-squared test for independence with ',
round(gender_chiqq$parameter,4),' \ndegrees of freedom ', 'yields p=',
round(gender_chiqq$p.value,4),
', suggesting that there is no relationship between gender and assignment groups at a \nsignificance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
# check balance between age ranges
age_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, Age_Range)],simulate.p.value = TRUE)
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Age_Range) +
xlab('Assignment Group') +
ylab('Age') +
labs(title = 'Contingency table between age range and assignment group',
caption = paste0('Assuming age distributions are the same among assignment groups, a chi-squared test for independence with Monte \nCarlo simulation yields p=',
round(age_chisq$p.value,4),
', suggesting that there is no relationship between age and assignment groups at a \nsignificance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
#check balance between education levels
edu_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, Education_Level)],simulate.p.value = TRUE)
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$Education_Level) +
xlab('Assignment Group') +
ylab('Education Level') +
labs(title = 'Contingency table between education and assignment group',
caption = paste0('Assuming education distributions are the same among assignment groups, a chi-squared test for \nindependence with Monte Carlo simulation yields p=',
round(edu_chisq$p.value,4),
', suggesting that there is no relationship \nbetween education and assignment groups at a significance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
# check balance between US and non-US respondents
us_chisq <- chisq.test(d_respondents[ , table(Assignment_Group, US_Dummy)])
create_heatmap(var1 = d_respondents$Assignment_Group,var2 = d_respondents$US_Dummy) +
xlab('Assignment Group') +
ylab('Country') +
scale_y_discrete(breaks=c("0", "1"),
labels=c("Non-US", "United States")) +
labs(title = 'Contingency table between country and assignment group',
caption = paste0('Assuming country distributions are the same among assignment groups, a chi-squared test for independence with \n',
round(us_chisq$parameter,4),' degrees of freedom ', 'yields p=',
round(us_chisq$p.value,4),
', suggesting that there is no relationship between country and assignment \ngroups at a significance level of 0.05.')) +
theme(plot.caption = element_text(hjust = 0))
get_robust_se <- function(model){
# Get robust SE for use in stargazer
vcov <- vcovHC(model,type = "HC1")
return(sqrt(diag(vcov)))
}
#does the specific treatment group have an effect on task phase 2 score?
mod_task2_c <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group))]
mod_task2_d <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group) +
TaskPhase1_Score +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#Stargazer Output
stargazer(mod_task2_c,
mod_task2_d,
se = list(get_robust_se(mod_task2_c),get_robust_se(mod_task2_d)),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','Yes'),
c('Age Fixed Effects','No','Yes')),
header=FALSE,
type='text')
pander(anova(mod_task2_c, mod_task2_d, test='F'),style='rmarkdown')
#does the specific treatment group have an effect on task phase 3 score?
mod_task3_e <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score)]
mod_task3_f <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + Treatment_Dummy)]
mod_task3_g <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + as.factor(Assignment_Group))]
mod_task3_h <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score +
as.factor(Assignment_Group) +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#Stargazer Output
stargazer(mod_task3_e,
mod_task3_f,
mod_task3_g,
mod_task3_h,
se = list(get_robust_se(mod_task3_e),
get_robust_se(mod_task3_f),
get_robust_se(mod_task3_g)),
get_robust_se(mod_task3_h),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','No','No','Yes'),
c('Age Fixed Effects','No','No','No','Yes')),
covariate.labels = c("Task Phase 2 Score", "Any Treatment", "Medical Feedback",
"Negative Images", "Positive Images", "Self-reflection",'Male'),
header=FALSE,
type='latex')
pander(anova(mod_task3_e, mod_task3_f, test='F'),style='rmarkdown')
pander(anova(mod_task3_g, mod_task3_h, test='F'),style='rmarkdown')
power.t.test( delta = .05, sd = .16, sig.level = 0.05, power = 0.8)
d_respondents[, .N, by = .(Assignment_Group)]
get_robust_se <- function(model){
# Get robust SE for use in stargazer
vcov <- vcovHC(model,type = "HC1")
return(sqrt(diag(vcov)))
}
#does the specific treatment group have an effect on task phase 2 score?
mod_task2_c <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group))]
mod_task2_d <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group) +
TaskPhase1_Score +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#Stargazer Output
stargazer(mod_task2_c,
mod_task2_d,
se = list(get_robust_se(mod_task2_c),get_robust_se(mod_task2_d)),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','Yes'),
c('Age Fixed Effects','No','Yes')),
header=FALSE,
type='latex')
pander(anova(mod_task2_c, mod_task2_d, test='F'),style='rmarkdown')
#does the specific treatment group have an effect on task phase 3 score?
mod_task3_e <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score)]
mod_task3_f <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + Treatment_Dummy)]
mod_task3_g <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + as.factor(Assignment_Group))]
mod_task3_h <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score +
as.factor(Assignment_Group) +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#Stargazer Output
stargazer(mod_task3_e,
mod_task3_f,
mod_task3_g,
mod_task3_h,
se = list(get_robust_se(mod_task3_e),
get_robust_se(mod_task3_f),
get_robust_se(mod_task3_g)),
get_robust_se(mod_task3_h),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','No','No','Yes'),
c('Age Fixed Effects','No','No','No','Yes')),
covariate.labels = c("Task Phase 2 Score", "Any Treatment", "Medical Feedback",
"Negative Images", "Positive Images", "Self-reflection",'Male'),
header=FALSE,
type='latex')
pander(anova(mod_task3_e, mod_task3_f, test='F'),style='rmarkdown')
pander(anova(mod_task3_g, mod_task3_h, test='F'),style='rmarkdown')
get_robust_se <- function(model){
# Get robust SE for use in stargazer
vcov <- vcovHC(model,type = "HC1")
return(sqrt(diag(vcov)))
}
#does the specific treatment group have an effect on task phase 2 score?
mod_task2_c <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group))]
mod_task2_d <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group) +
TaskPhase1_Score +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#stargazer output
stargazer(mod_task2_c,
mod_task2_d,
se = list(get_robust_se(mod_task2_c),get_robust_se(mod_task2_d)),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','Yes'),
c('Age Fixed Effects','No','Yes')),
header=FALSE,
type='text')
pander(anova(mod_task2_c, mod_task2_d, test='F'),style='rmarkdown')
#does the specific treatment group have an effect on task phase 3 score?
mod_task3_e <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score)]
mod_task3_f <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + Treatment_Dummy)]
mod_task3_g <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + as.factor(Assignment_Group))]
mod_task3_h <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score +
as.factor(Assignment_Group) +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#stargazer output
stargazer(mod_task3_e,
mod_task3_f,
mod_task3_g,
mod_task3_h,
se = list(get_robust_se(mod_task3_e),
get_robust_se(mod_task3_f),
get_robust_se(mod_task3_h)),
get_robust_se(mod_task3_g),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','No','No','Yes'),
c('Age Fixed Effects','No','No','No','Yes')),
covariate.labels = c("Task Phase 2 Score", "Any Treatment", "Medical Feedback",
"Negative Images", "Positive Images", "Self-reflection",'Male'),
header=FALSE,
type='text')
pander(anova(mod_task3_e, mod_task3_f, test='F'),style='rmarkdown')
pander(anova(mod_task3_g, mod_task3_h, test='F'),style='rmarkdown')
get_robust_se <- function(model){
# Get robust SE for use in stargazer
vcov <- vcovHC(model,type = "HC1")
return(sqrt(diag(vcov)))
}
#does the specific treatment group have an effect on task phase 2 score?
mod_task2_c <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group))]
mod_task2_d <- d_respondents[, lm(TaskPhase2_Score ~ as.factor(Assignment_Group) +
TaskPhase1_Score +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#stargazer output
stargazer(mod_task2_c,
mod_task2_d,
se = list(get_robust_se(mod_task2_c),get_robust_se(mod_task2_d)),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','Yes'),
c('Age Fixed Effects','No','Yes')),
header=FALSE)
pander(anova(mod_task2_c, mod_task2_d, test='F'),style='rmarkdown')
#does the specific treatment group have an effect on task phase 3 score?
mod_task3_e <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score)]
mod_task3_f <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + Treatment_Dummy)]
mod_task3_g <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score + as.factor(Assignment_Group))]
mod_task3_h <- d_respondents[ , lm(TaskPhase3_Score ~ TaskPhase2_Score +
as.factor(Assignment_Group) +
as.factor(Gender) +
as.factor(Education_Level) +
as.factor(Age_Range))]
#stargazer output
stargazer(mod_task3_e,
mod_task3_f,
mod_task3_g,
mod_task3_h,
se = list(get_robust_se(mod_task3_e),
get_robust_se(mod_task3_f),
get_robust_se(mod_task3_h)),
get_robust_se(mod_task3_g),
omit = c("Education_Level","Age_Range"),
add.lines = list(c('Education Fixed Effects', 'No','No','No','Yes'),
c('Age Fixed Effects','No','No','No','Yes')),
covariate.labels = c("Task Phase 2 Score", "Any Treatment", "Medical Feedback",
"Negative Images", "Positive Images", "Self-reflection",'Male'),
header=FALSE)
pander(anova(mod_task3_e, mod_task3_f, test='F'),style='rmarkdown')
pander(anova(mod_task3_g, mod_task3_h, test='F'),style='rmarkdown')
